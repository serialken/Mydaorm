{% import 'AmsEmployeBundle:DhtmlxGrid:macros.html.twig' as m %}
<rows>
    <head>      
        <column id="actif"              type="ro"           hidden="true">Actif</column> 
        <column id="annexe"             type="ro"           width="70"      align="center"  sort="str">Annexe</column> 
        <column id="matricule"          type="ro"           width="100"     align="center"  sort="str">Matricule</column> 
        <column id="employe_id"         type="coro"         width="*"       align="left"    sort="sortCombo">Employé{{comboEmploye|raw}}</column> 
        <column id="date_debut"         type="dhxCalendar"  width="70"      align="center"  sort="date">Début</column> 
        <column id="date_fin"           type="dhxCalendar"  width="70"      align="center"  sort="date">Fin</column> 
        <column id="date_stc"           type="dhxCalendar"  width="70"      align="center"  sort="date">STC</column> 
        <column id="depot_id"           type="coro"         width="*"       align="left"    sort="sortCombo">Centre de distribution{{comboDepot|raw}}</column>
        <column id="flux_id"            type="coro"         width="100"     align="left"    sort="sortCombo">Flux{{comboFlux|raw}}</column>
        <column id="rc"                 type="ro"           width="50"      align="center"  sort="str">Rc</column>
        <column id="emploi_id"          type="coro"         width="100"     align="left"    sort="sortCombo">Emploi{{comboEmploi|raw}}</column>
        <column id="typecontrat_id"     type="coro"         width="100"     align="left"    sort="sortCombo">Type Contrat{{comboTypeContrat|raw}}</column>
        <column id="societe_id"         type="coro"         width="100"     align="left"    sort="sortCombo">Societe{{comboSociete|raw}}</column>
        <column id="typetournee_id"     type="coro"         width="100"     align="left"    sort="sortCombo">Type Rémunération{{comboTypeTournee|raw}}</column>
        <column id="heure_debut"        type="ro"           width="70"      align="right"   sort="str">Heure de début</column>
        <column id="nbheures_garanties" type="ro"           width="70"      align="right"   sort="int">Heures garanties</column> 
    </head> 
    {% for row in curseur %}
        <row id ="{{row.id}}"{{m.locked(false)}}  {{m.bgColorBloque(row.actif)}}>  
            <cell>{{row.actif}}</cell>
            <cell>{% if row.actif %}<![CDATA[{{m.lienAnnexeContrat()}}]]>{% endif %}</cell>
            <cell>{{row.matricule}}</cell> 
            <cell>{{row.employe_id}}</cell>
            <cell>{{row.date_debut|date('d/m/Y')}}</cell>
            <cell>{{row.date_fin|date('d/m/Y')}}</cell>
            <cell>{% if row.date_stc is not null%}{{row.date_stc|date('d/m/Y')}}{% endif %}</cell>
            <cell>{{row.depot_id}}</cell>
            <cell>{{row.flux_id}}</cell>
            <cell>{{row.rc}}</cell>
            <cell>{{row.emploi_id}}</cell>
            <cell>{{row.typecontrat_id}}</cell>
            <cell>{{row.societe_id}}</cell>
            <cell>{{row.typetournee_id}}</cell>
            <cell>{% if row.typetournee_id==2%}{{row.heure_debut}}{% endif %}</cell>
            <cell>{% if row.nbheures_garanties!=0%}{{row.nbheures_garanties}}{% endif %}</cell>
       </row> 
     {% endfor %}
 </rows>
