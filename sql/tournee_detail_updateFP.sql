CREATE TABLE export_geoconcept (id INT AUTO_INCREMENT NOT NULL, date_parution DATE NOT NULL, num_parution VARCHAR(20) NOT NULL, qte INT NOT NULL, volet1 VARCHAR(50) NOT NULL, volet2 VARCHAR(50) NOT NULL, vol3 VARCHAR(38) NOT NULL, vol4 VARCHAR(38) NOT NULL, vol5 VARCHAR(38) NOT NULL, cp VARCHAR(5) NOT NULL, ville VARCHAR(45) NOT NULL, type_service VARCHAR(1) NOT NULL, point_livraison_ordre INT NOT NULL, ordre_dans_arret INT NOT NULL, numabo_ext VARCHAR(10) NOT NULL, pl_cards VARCHAR(100) NOT NULL, pl_adresse VARCHAR(255) NOT NULL, pl_lieudit VARCHAR(100) NOT NULL, pl_cp VARCHAR(5) NOT NULL, pl_ville VARCHAR(100) NOT NULL, pl_geox DOUBLE PRECISION NOT NULL, pl_geoy DOUBLE PRECISION NOT NULL, rnvp_cards VARCHAR(100) NOT NULL, rnvp_adresse VARCHAR(255) NOT NULL, rnvp_lieudit VARCHAR(100) NOT NULL, rnvp_cp VARCHAR(5) NOT NULL, rnvp_ville VARCHAR(100) NOT NULL, rnvp_geox DOUBLE PRECISION NOT NULL, rnvp_geoy DOUBLE PRECISION NOT NULL, produit VARCHAR(100) NOT NULL, societe VARCHAR(50) NOT NULL, depot VARCHAR(25) NOT NULL, matricule_emp VARCHAR(20) NOT NULL, code_tournee VARCHAR(20) NOT NULL, requete VARCHAR(100) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE requete_export (id INT AUTO_INCREMENT NOT NULL, utilisateur_id INT NOT NULL, libelle VARCHAR(100) NOT NULL, commentaire LONGTEXT NOT NULL, requete LONGTEXT NOT NULL, date_creation DATETIME NOT NULL, nb_resultat INT NOT NULL, UNIQUE INDEX UNIQ_DDA58913A4D60759 (libelle), INDEX IDX_DDA58913FB88E14F (utilisateur_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE type_changement (id INT AUTO_INCREMENT NOT NULL, code VARCHAR(30) NOT NULL, libelle VARCHAR(100) NOT NULL, UNIQUE INDEX UNIQ_8B4FA7C777153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE info_portage (id INT AUTO_INCREMENT NOT NULL, type_info_id INT DEFAULT NULL, utilisateur_id INT DEFAULT NULL, valeur VARCHAR(255) NOT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, date_modif DATETIME NOT NULL, origine INT NOT NULL, INDEX IDX_335DD68075AAAE0D (type_info_id), INDEX IDX_335DD680FB88E14F (utilisateur_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE infos_portages_abonnes (info_portage_id INT NOT NULL, abonne_id INT NOT NULL, INDEX IDX_E3F1371C45CC9153 (info_portage_id), INDEX IDX_E3F1371CC325A696 (abonne_id), PRIMARY KEY(info_portage_id, abonne_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE infos_portages_adresses (info_portage_id INT NOT NULL, adresse_id INT NOT NULL, INDEX IDX_2E4924A45CC9153 (info_portage_id), INDEX IDX_2E4924A4DE7DC5C (adresse_id), PRIMARY KEY(info_portage_id, adresse_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE infos_portages_livraisons (info_portage_id INT NOT NULL, livraison_id INT NOT NULL, INDEX IDX_41BE9DEA45CC9153 (info_portage_id), INDEX IDX_41BE9DEA8E54FB25 (livraison_id), PRIMARY KEY(info_portage_id, livraison_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE info_portage_tmp (id INT AUTO_INCREMENT NOT NULL, abonne_soc_id INT DEFAULT NULL, type_info_id INT DEFAULT NULL, info_portage_id INT NOT NULL, valeur VARCHAR(255) NOT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, INDEX IDX_B51CD904EB0A5778 (abonne_soc_id), INDEX IDX_B51CD90475AAAE0D (type_info_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE paquet_volume (id INT AUTO_INCREMENT NOT NULL, produit_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, nb_exemplaires INT NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_CA90772CF347EFB (produit_id), INDEX IDX_CA90772CFB88E14F (utilisateur_id), INDEX idx_pqt_vol_date (date_distrib), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE parution_speciale (id INT AUTO_INCREMENT NOT NULL, produit_id INT DEFAULT NULL, libelle VARCHAR(255) NOT NULL, date_creation DATE NOT NULL, date_parution DATE NOT NULL, INDEX IDX_278C7012F347EFB (produit_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE type_info_portage (id INT AUTO_INCREMENT NOT NULL, libelle VARCHAR(255) NOT NULL, code VARCHAR(10) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_activite (id INT AUTO_INCREMENT NOT NULL, jour_id INT NOT NULL, typejour_id INT DEFAULT NULL, depot_id INT NOT NULL, flux_id INT NOT NULL, activite_id INT NOT NULL, employe_id INT DEFAULT NULL, transport_id INT DEFAULT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, heure_debut TIME DEFAULT NULL, duree TIME DEFAULT NULL, nbkm_paye NUMERIC(4, 0) DEFAULT NULL, commentaire VARCHAR(1024) DEFAULT NULL, valide TINYINT(1) NOT NULL, date_validation DATETIME DEFAULT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, date_extrait DATETIME DEFAULT NULL, INDEX IDX_938B2502220C6AD0 (jour_id), INDEX IDX_938B2502F8E8E66B (typejour_id), INDEX IDX_938B25028510D4DE (depot_id), INDEX IDX_938B2502C85926E (flux_id), INDEX IDX_938B25029B0F88B1 (activite_id), INDEX IDX_938B25021B65292 (employe_id), INDEX IDX_938B25029909C13F (transport_id), INDEX IDX_938B2502FB88E14F (utilisateur_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_heure (id INT AUTO_INCREMENT NOT NULL, groupe_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, heure_debut_theo TIME NOT NULL, duree_attente TIME NOT NULL, heure_debut TIME NOT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_3E4CDBEF7A45358C (groupe_id), INDEX IDX_3E4CDBEFFB88E14F (utilisateur_id), UNIQUE INDEX un_pai_heure (date_distrib, groupe_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_incident (id INT AUTO_INCREMENT NOT NULL, depot_id INT NOT NULL, flux_id INT NOT NULL, tournee_id INT NOT NULL, incident_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, commentaire VARCHAR(1024) DEFAULT NULL, date_creation DATETIME DEFAULT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_16FDD10D8510D4DE (depot_id), INDEX IDX_16FDD10DC85926E (flux_id), INDEX IDX_16FDD10DF661D013 (tournee_id), INDEX IDX_16FDD10D59E53FB9 (incident_id), INDEX IDX_16FDD10DFB88E14F (utilisateur_id), UNIQUE INDEX un_pai_incident (date_distrib, tournee_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_journal (id INT AUTO_INCREMENT NOT NULL, depot_id INT NOT NULL, flux_id INT NOT NULL, employe_id INT DEFAULT NULL, activite_id INT DEFAULT NULL, tournee_id INT DEFAULT NULL, validation_id INT NOT NULL, rubrique VARCHAR(2) NOT NULL, code VARCHAR(3) NOT NULL, level INT NOT NULL, msg VARCHAR(1024) NOT NULL, anneemois VARCHAR(6) NOT NULL, date_distrib DATE DEFAULT NULL, INDEX IDX_8B8D62F78510D4DE (depot_id), INDEX IDX_8B8D62F7C85926E (flux_id), INDEX IDX_8B8D62F71B65292 (employe_id), INDEX IDX_8B8D62F79B0F88B1 (activite_id), INDEX IDX_8B8D62F7F661D013 (tournee_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_mois (anneemois VARCHAR(6) NOT NULL, annee VARCHAR(4) NOT NULL, mois VARCHAR(2) NOT NULL, libelle VARCHAR(32) NOT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, PRIMARY KEY(anneemois)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_prd_tournee (id INT AUTO_INCREMENT NOT NULL, tournee_id INT NOT NULL, produit_id INT NOT NULL, natureclient_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, qte NUMERIC(4, 0) NOT NULL, nbcli NUMERIC(4, 0) NOT NULL, nbadr NUMERIC(4, 0) NOT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_F059364BF661D013 (tournee_id), INDEX IDX_F059364BF347EFB (produit_id), INDEX IDX_F059364BC18A8951 (natureclient_id), INDEX IDX_F059364BFB88E14F (utilisateur_id), UNIQUE INDEX un_pai_prd_tournee (tournee_id, produit_id, natureclient_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_reclamation (id INT AUTO_INCREMENT NOT NULL, tournee_id INT NOT NULL, nbrec_abonne NUMERIC(4, 0) NOT NULL, nbrec_diffuseur NUMERIC(4, 0) NOT NULL, commentaire VARCHAR(1024) DEFAULT NULL, UNIQUE INDEX un_pai_reclamation (tournee_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_mois (anneemois VARCHAR(6) NOT NULL, annee VARCHAR(4) NOT NULL, mois VARCHAR(2) NOT NULL, libelle VARCHAR(32) NOT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, extrait TINYINT(1) NOT NULL, PRIMARY KEY(anneemois)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_poids (id INT AUTO_INCREMENT NOT NULL, population_id INT NOT NULL, produit_type_id INT DEFAULT NULL, produit_id INT DEFAULT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, quantite INT NOT NULL, borne_inf NUMERIC(7, 3) NOT NULL, borne_sup NUMERIC(7, 3) NOT NULL, valeur NUMERIC(6, 4) NOT NULL, valeur_unite NUMERIC(4, 2) NOT NULL, INDEX IDX_231D9078C955D1E1 (population_id), INDEX IDX_231D90783B707EA (produit_type_id), INDEX IDX_231D9078F347EFB (produit_id), UNIQUE INDEX un_pai_ref_poids (population_id, produit_type_id, produit_id, date_debut), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_postepaie_activite (id INT AUTO_INCREMENT NOT NULL, typejour_id INT NOT NULL, activite_id INT NOT NULL, population_id INT NOT NULL, poste_km VARCHAR(10) DEFAULT NULL, poste_hj VARCHAR(10) DEFAULT NULL, poste_hn VARCHAR(10) DEFAULT NULL, INDEX IDX_EF3A09FEF8E8E66B (typejour_id), INDEX IDX_EF3A09FE9B0F88B1 (activite_id), INDEX IDX_EF3A09FEC955D1E1 (population_id), UNIQUE INDEX un_ref_postepaie_activite (population_id, activite_id, typejour_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_postepaie_general (id INT AUTO_INCREMENT NOT NULL, typeurssaf_id INT NOT NULL, code VARCHAR(3) NOT NULL, libelle VARCHAR(128) NOT NULL, poste VARCHAR(10) NOT NULL, semaine TINYINT(1) NOT NULL, dimanche TINYINT(1) NOT NULL, ferie TINYINT(1) NOT NULL, UNIQUE INDEX UNIQ_E9C0F83E77153098 (code), INDEX IDX_E9C0F83E225E399C (typeurssaf_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_postepaie_majoration (id INT AUTO_INCREMENT NOT NULL, population_id INT DEFAULT NULL, code VARCHAR(2) NOT NULL, poste VARCHAR(10) NOT NULL, INDEX IDX_66859CFDC955D1E1 (population_id), UNIQUE INDEX un_ref_postepaie_majoration (code, population_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_postepaie_supplement (id INT AUTO_INCREMENT NOT NULL, population_id INT NOT NULL, produit_id INT NOT NULL, typeurssaf_id INT NOT NULL, poste VARCHAR(10) NOT NULL, INDEX IDX_DE0D137EC955D1E1 (population_id), INDEX IDX_DE0D137EF347EFB (produit_id), INDEX IDX_DE0D137E225E399C (typeurssaf_id), UNIQUE INDEX un_pai_ref_postepaie_supplement (population_id, produit_id, typeurssaf_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_qualite (id INT AUTO_INCREMENT NOT NULL, population_id INT NOT NULL, qualite VARCHAR(1) NOT NULL, borne_inf NUMERIC(7, 3) NOT NULL, borne_sup NUMERIC(7, 3) NOT NULL, valeur VARCHAR(1) NOT NULL, INDEX IDX_C0F417BCC955D1E1 (population_id), UNIQUE INDEX un_pai_ref_qualite (population_id, qualite, borne_inf), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_ref_remuneration (id INT AUTO_INCREMENT NOT NULL, population_id INT NOT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, valeur NUMERIC(4, 2) NOT NULL, INDEX IDX_FE027D1DC955D1E1 (population_id), UNIQUE INDEX un_pai_ref_remuneration (population_id, date_debut), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_stc (id INT AUTO_INCREMENT NOT NULL, employe_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, date_stc DATE NOT NULL, date_extrait DATE DEFAULT NULL, date_modif DATE DEFAULT NULL, INDEX IDX_7CBF837B1B65292 (employe_id), INDEX IDX_7CBF837BFB88E14F (utilisateur_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE pai_tournee (id INT AUTO_INCREMENT NOT NULL, modele_tournee_jour_id INT DEFAULT NULL, jour_id INT NOT NULL, typejour_id INT DEFAULT NULL, depot_id INT NOT NULL, flux_id INT NOT NULL, groupe_id INT NOT NULL, typetournee_id INT NOT NULL, employe_id INT DEFAULT NULL, transport_id INT DEFAULT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, code VARCHAR(11) NOT NULL, valrem NUMERIC(7, 5) DEFAULT NULL, valrem_calculee NUMERIC(7, 5) DEFAULT NULL, majoration NUMERIC(5, 2) NOT NULL, duree_retard TIME NOT NULL, dureeHP TIME DEFAULT NULL, duree TIME DEFAULT NULL, duree_supplement TIME NOT NULL, duree_nuit TIME NOT NULL, nbkm NUMERIC(4, 0) DEFAULT NULL, nbkm_paye NUMERIC(4, 0) DEFAULT NULL, nbtitre NUMERIC(6, 0) NOT NULL, nbspl NUMERIC(6, 0) NOT NULL, nbcli NUMERIC(6, 0) NOT NULL, nbadr NUMERIC(6, 0) NOT NULL, valide TINYINT(1) NOT NULL, date_validation DATETIME DEFAULT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, date_extrait DATETIME DEFAULT NULL, nb_reperage INT DEFAULT NULL, INDEX IDX_A1DCF8C4101629AE (modele_tournee_jour_id), INDEX IDX_A1DCF8C4220C6AD0 (jour_id), INDEX IDX_A1DCF8C4F8E8E66B (typejour_id), INDEX IDX_A1DCF8C48510D4DE (depot_id), INDEX IDX_A1DCF8C4C85926E (flux_id), INDEX IDX_A1DCF8C47A45358C (groupe_id), INDEX IDX_A1DCF8C4F3B301E (typetournee_id), INDEX IDX_A1DCF8C41B65292 (employe_id), INDEX IDX_A1DCF8C49909C13F (transport_id), INDEX IDX_A1DCF8C4FB88E14F (utilisateur_id), INDEX idx1_pai_tournee (depot_id, flux_id, date_distrib), UNIQUE INDEX un_pai_tournee (date_distrib, depot_id, flux_id, groupe_id, code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE modele_activite (id INT AUTO_INCREMENT NOT NULL, depot_id INT NOT NULL, flux_id INT NOT NULL, jour_id INT NOT NULL, activite_id INT NOT NULL, employe_id INT DEFAULT NULL, transport_id INT DEFAULT NULL, utilisateur_id INT DEFAULT NULL, date_debut DATE NOT NULL, date_fin DATE NOT NULL, heure_debut TIME DEFAULT NULL, duree TIME DEFAULT NULL, nbkm_paye NUMERIC(4, 0) DEFAULT NULL, commentaire VARCHAR(1024) DEFAULT NULL, valide TINYINT(1) NOT NULL, date_validation DATETIME DEFAULT NULL, date_creation DATETIME DEFAULT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_D0AD6B178510D4DE (depot_id), INDEX IDX_D0AD6B17C85926E (flux_id), INDEX IDX_D0AD6B17220C6AD0 (jour_id), INDEX IDX_D0AD6B179B0F88B1 (activite_id), INDEX IDX_D0AD6B171B65292 (employe_id), INDEX IDX_D0AD6B179909C13F (transport_id), INDEX IDX_D0AD6B17FB88E14F (utilisateur_id), INDEX idx1_modele_activite (depot_id, flux_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE modele_journal (id INT AUTO_INCREMENT NOT NULL, depot_id INT NOT NULL, flux_id INT NOT NULL, jour_id INT DEFAULT NULL, employe_id INT DEFAULT NULL, activite_id INT DEFAULT NULL, tournee_id INT DEFAULT NULL, tournee_jour_id INT DEFAULT NULL, validation_id INT NOT NULL, rubrique VARCHAR(2) NOT NULL, code VARCHAR(3) NOT NULL, level INT NOT NULL, msg VARCHAR(1024) NOT NULL, INDEX IDX_C42A1D9F8510D4DE (depot_id), INDEX IDX_C42A1D9FC85926E (flux_id), INDEX IDX_C42A1D9F220C6AD0 (jour_id), INDEX IDX_C42A1D9F1B65292 (employe_id), INDEX IDX_C42A1D9F9B0F88B1 (activite_id), INDEX IDX_C42A1D9FF661D013 (tournee_id), INDEX IDX_C42A1D9FFEEEB52E (tournee_jour_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_caract (id INT AUTO_INCREMENT NOT NULL, produit_type_id INT NOT NULL, caract_type_id INT NOT NULL, saisie_id INT NOT NULL, libelle VARCHAR(32) NOT NULL, code VARCHAR(10) NOT NULL, actif TINYINT(1) NOT NULL, INDEX IDX_F10356EA3B707EA (produit_type_id), INDEX IDX_F10356EAE8F01950 (caract_type_id), INDEX IDX_F10356EAA12433ED (saisie_id), UNIQUE INDEX un_prd_caract (produit_type_id, saisie_id, code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_caract_constante (id INT AUTO_INCREMENT NOT NULL, produit_id INT NOT NULL, prd_caract_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, valeur_int INT DEFAULT NULL, valeur_float DOUBLE PRECISION DEFAULT NULL, valeur_datetime DATETIME DEFAULT NULL, valeur_string VARCHAR(256) DEFAULT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_478B78BEF347EFB (produit_id), INDEX IDX_478B78BEB7DC3BDF (prd_caract_id), INDEX IDX_478B78BEFB88E14F (utilisateur_id), UNIQUE INDEX un_prd_caract_constante (produit_id, prd_caract_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_caract_groupe (id INT AUTO_INCREMENT NOT NULL, produit_id INT NOT NULL, prd_caract_id INT NOT NULL, groupe_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, valeur_int INT DEFAULT NULL, valeur_float DOUBLE PRECISION DEFAULT NULL, valeur_string VARCHAR(256) DEFAULT NULL, valeur_datetime DATETIME DEFAULT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_F9F77203F347EFB (produit_id), INDEX IDX_F9F77203B7DC3BDF (prd_caract_id), INDEX IDX_F9F772037A45358C (groupe_id), INDEX IDX_F9F77203FB88E14F (utilisateur_id), UNIQUE INDEX un_caract_groupe_produit (produit_id, prd_caract_id, groupe_id, date_distrib), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_caract_jour (id INT AUTO_INCREMENT NOT NULL, produit_id INT NOT NULL, prd_caract_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, date_distrib DATE NOT NULL, valeur_int INT DEFAULT NULL, valeur_float DOUBLE PRECISION DEFAULT NULL, valeur_string VARCHAR(256) DEFAULT NULL, valeur_datetime DATETIME DEFAULT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_4D1487BF347EFB (produit_id), INDEX IDX_4D1487BB7DC3BDF (prd_caract_id), INDEX IDX_4D1487BFB88E14F (utilisateur_id), UNIQUE INDEX un_prd_caract_jour (produit_id, date_distrib, prd_caract_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_caract_tournee (id INT AUTO_INCREMENT NOT NULL, prd_caract_id INT NOT NULL, pai_prd_tournee_id INT NOT NULL, utilisateur_id INT DEFAULT NULL, valeur_int INT DEFAULT NULL, valeur_float DOUBLE PRECISION DEFAULT NULL, valeur_string VARCHAR(256) DEFAULT NULL, valeur_datetime DATETIME DEFAULT NULL, date_creation DATETIME NOT NULL, date_modif DATETIME DEFAULT NULL, INDEX IDX_3E6B7264B7DC3BDF (prd_caract_id), INDEX IDX_3E6B72648125DFC4 (pai_prd_tournee_id), INDEX IDX_3E6B7264FB88E14F (utilisateur_id), UNIQUE INDEX un_pco_produit (pai_prd_tournee_id, prd_caract_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_caract_type (id INT AUTO_INCREMENT NOT NULL, libelle VARCHAR(32) NOT NULL, code VARCHAR(32) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE prd_ref_saisie (id INT AUTO_INCREMENT NOT NULL, code VARCHAR(10) NOT NULL, libelle VARCHAR(32) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_activite (id INT AUTO_INCREMENT NOT NULL, code VARCHAR(2) NOT NULL, libelle VARCHAR(32) NOT NULL, couleur VARCHAR(7) NOT NULL, actif TINYINT(1) NOT NULL, affichage_modele TINYINT(1) NOT NULL, affichage_duree TINYINT(1) NOT NULL, affichage_km TINYINT(1) NOT NULL, UNIQUE INDEX UNIQ_3E62939277153098 (code), UNIQUE INDEX UNIQ_3E629392A4D60759 (libelle), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_emploi (id INT NOT NULL, code VARCHAR(3) NOT NULL, libelle VARCHAR(45) NOT NULL, codeNG VARCHAR(6) NOT NULL, UNIQUE INDEX UNIQ_1B9D80377153098 (code), UNIQUE INDEX UNIQ_1B9D803A4D60759 (libelle), UNIQUE INDEX UNIQ_1B9D80358DAE3EC (codeNG), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_emp_societe (id INT AUTO_INCREMENT NOT NULL, code VARCHAR(3) NOT NULL, libelle VARCHAR(45) NOT NULL, UNIQUE INDEX UNIQ_6CB83CA677153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_flux (id INT NOT NULL, code VARCHAR(1) NOT NULL, libelle VARCHAR(32) NOT NULL, UNIQUE INDEX UNIQ_652170BD77153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_incident (id INT NOT NULL, code VARCHAR(2) NOT NULL, libelle VARCHAR(128) NOT NULL, UNIQUE INDEX UNIQ_BB14679D77153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_natureclient (id INT NOT NULL, typeurssaf_id INT NOT NULL, code VARCHAR(1) NOT NULL, libelle VARCHAR(32) NOT NULL, duree_livraison TIME NOT NULL, UNIQUE INDEX UNIQ_CBF3055377153098 (code), INDEX IDX_CBF30553225E399C (typeurssaf_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_population (id INT NOT NULL, emploi_id INT DEFAULT NULL, societe_id INT DEFAULT NULL, code VARCHAR(4) NOT NULL, libelle VARCHAR(32) NOT NULL, UNIQUE INDEX UNIQ_B28C4F1677153098 (code), INDEX IDX_B28C4F16EC013E12 (emploi_id), INDEX IDX_B28C4F16FCF77503 (societe_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_transport (id INT NOT NULL, code VARCHAR(3) NOT NULL, libelle VARCHAR(32) NOT NULL, km_paye TINYINT(1) NOT NULL, UNIQUE INDEX UNIQ_15F1206B77153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_typejour (id INT NOT NULL, code VARCHAR(1) NOT NULL, libelle VARCHAR(32) NOT NULL, UNIQUE INDEX UNIQ_137CE05977153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE ref_typeurssaf (id INT NOT NULL, code VARCHAR(1) NOT NULL, libelle VARCHAR(32) NOT NULL, UNIQUE INDEX UNIQ_1CC44DFB77153098 (code), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE requete_export ADD CONSTRAINT FK_DDA58913FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE info_portage ADD CONSTRAINT FK_335DD68075AAAE0D FOREIGN KEY (type_info_id) REFERENCES type_info_portage (id);
ALTER TABLE info_portage ADD CONSTRAINT FK_335DD680FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE infos_portages_abonnes ADD CONSTRAINT FK_E3F1371C45CC9153 FOREIGN KEY (info_portage_id) REFERENCES info_portage (id);
ALTER TABLE infos_portages_abonnes ADD CONSTRAINT FK_E3F1371CC325A696 FOREIGN KEY (abonne_id) REFERENCES abonne_soc (id);
ALTER TABLE infos_portages_adresses ADD CONSTRAINT FK_2E4924A45CC9153 FOREIGN KEY (info_portage_id) REFERENCES info_portage (id);
ALTER TABLE infos_portages_adresses ADD CONSTRAINT FK_2E4924A4DE7DC5C FOREIGN KEY (adresse_id) REFERENCES adresse_rnvp (id);
ALTER TABLE infos_portages_livraisons ADD CONSTRAINT FK_41BE9DEA45CC9153 FOREIGN KEY (info_portage_id) REFERENCES info_portage (id);
ALTER TABLE infos_portages_livraisons ADD CONSTRAINT FK_41BE9DEA8E54FB25 FOREIGN KEY (livraison_id) REFERENCES adresse_rnvp (id);
ALTER TABLE info_portage_tmp ADD CONSTRAINT FK_B51CD904EB0A5778 FOREIGN KEY (abonne_soc_id) REFERENCES abonne_soc (id);
ALTER TABLE info_portage_tmp ADD CONSTRAINT FK_B51CD90475AAAE0D FOREIGN KEY (type_info_id) REFERENCES type_info_portage (id);
ALTER TABLE paquet_volume ADD CONSTRAINT FK_CA90772CF347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE paquet_volume ADD CONSTRAINT FK_CA90772CFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE parution_speciale ADD CONSTRAINT FK_278C7012F347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B2502220C6AD0 FOREIGN KEY (jour_id) REFERENCES ref_jour (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B2502F8E8E66B FOREIGN KEY (typejour_id) REFERENCES ref_typejour (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B25028510D4DE FOREIGN KEY (depot_id) REFERENCES depot (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B2502C85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B25029B0F88B1 FOREIGN KEY (activite_id) REFERENCES ref_activite (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B25021B65292 FOREIGN KEY (employe_id) REFERENCES employe (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B25029909C13F FOREIGN KEY (transport_id) REFERENCES ref_transport (id);
ALTER TABLE pai_activite ADD CONSTRAINT FK_938B2502FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE pai_heure ADD CONSTRAINT FK_3E4CDBEF7A45358C FOREIGN KEY (groupe_id) REFERENCES groupe_tournee (id);
ALTER TABLE pai_heure ADD CONSTRAINT FK_3E4CDBEFFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE pai_incident ADD CONSTRAINT FK_16FDD10D8510D4DE FOREIGN KEY (depot_id) REFERENCES depot (id);
ALTER TABLE pai_incident ADD CONSTRAINT FK_16FDD10DC85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
ALTER TABLE pai_incident ADD CONSTRAINT FK_16FDD10DF661D013 FOREIGN KEY (tournee_id) REFERENCES pai_tournee (id);
ALTER TABLE pai_incident ADD CONSTRAINT FK_16FDD10D59E53FB9 FOREIGN KEY (incident_id) REFERENCES ref_incident (id);
ALTER TABLE pai_incident ADD CONSTRAINT FK_16FDD10DFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE pai_journal ADD CONSTRAINT FK_8B8D62F78510D4DE FOREIGN KEY (depot_id) REFERENCES depot (id);
ALTER TABLE pai_journal ADD CONSTRAINT FK_8B8D62F7C85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
ALTER TABLE pai_journal ADD CONSTRAINT FK_8B8D62F71B65292 FOREIGN KEY (employe_id) REFERENCES employe (id);
ALTER TABLE pai_journal ADD CONSTRAINT FK_8B8D62F79B0F88B1 FOREIGN KEY (activite_id) REFERENCES pai_activite (id);
ALTER TABLE pai_journal ADD CONSTRAINT FK_8B8D62F7F661D013 FOREIGN KEY (tournee_id) REFERENCES pai_tournee (id);
ALTER TABLE pai_prd_tournee ADD CONSTRAINT FK_F059364BF661D013 FOREIGN KEY (tournee_id) REFERENCES pai_tournee (id);
ALTER TABLE pai_prd_tournee ADD CONSTRAINT FK_F059364BF347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE pai_prd_tournee ADD CONSTRAINT FK_F059364BC18A8951 FOREIGN KEY (natureclient_id) REFERENCES ref_natureclient (id);
ALTER TABLE pai_prd_tournee ADD CONSTRAINT FK_F059364BFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE pai_reclamation ADD CONSTRAINT FK_A2337737F661D013 FOREIGN KEY (tournee_id) REFERENCES pai_tournee (id);
ALTER TABLE pai_ref_poids ADD CONSTRAINT FK_231D9078C955D1E1 FOREIGN KEY (population_id) REFERENCES ref_population (id);
ALTER TABLE pai_ref_poids ADD CONSTRAINT FK_231D90783B707EA FOREIGN KEY (produit_type_id) REFERENCES produit_type (id);
ALTER TABLE pai_ref_poids ADD CONSTRAINT FK_231D9078F347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE pai_ref_postepaie_activite ADD CONSTRAINT FK_EF3A09FEF8E8E66B FOREIGN KEY (typejour_id) REFERENCES ref_typejour (id);
ALTER TABLE pai_ref_postepaie_activite ADD CONSTRAINT FK_EF3A09FE9B0F88B1 FOREIGN KEY (activite_id) REFERENCES ref_activite (id);
ALTER TABLE pai_ref_postepaie_activite ADD CONSTRAINT FK_EF3A09FEC955D1E1 FOREIGN KEY (population_id) REFERENCES ref_population (id);
ALTER TABLE pai_ref_postepaie_general ADD CONSTRAINT FK_E9C0F83E225E399C FOREIGN KEY (typeurssaf_id) REFERENCES ref_typeurssaf (id);
ALTER TABLE pai_ref_postepaie_majoration ADD CONSTRAINT FK_66859CFDC955D1E1 FOREIGN KEY (population_id) REFERENCES ref_population (id);
ALTER TABLE pai_ref_postepaie_supplement ADD CONSTRAINT FK_DE0D137EC955D1E1 FOREIGN KEY (population_id) REFERENCES ref_population (id);
ALTER TABLE pai_ref_postepaie_supplement ADD CONSTRAINT FK_DE0D137EF347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE pai_ref_postepaie_supplement ADD CONSTRAINT FK_DE0D137E225E399C FOREIGN KEY (typeurssaf_id) REFERENCES ref_typeurssaf (id);
ALTER TABLE pai_ref_qualite ADD CONSTRAINT FK_C0F417BCC955D1E1 FOREIGN KEY (population_id) REFERENCES ref_population (id);
ALTER TABLE pai_ref_remuneration ADD CONSTRAINT FK_FE027D1DC955D1E1 FOREIGN KEY (population_id) REFERENCES ref_population (id);
ALTER TABLE pai_stc ADD CONSTRAINT FK_7CBF837B1B65292 FOREIGN KEY (employe_id) REFERENCES employe (id);
ALTER TABLE pai_stc ADD CONSTRAINT FK_7CBF837BFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C4101629AE FOREIGN KEY (modele_tournee_jour_id) REFERENCES modele_tournee_jour (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C4220C6AD0 FOREIGN KEY (jour_id) REFERENCES ref_jour (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C4F8E8E66B FOREIGN KEY (typejour_id) REFERENCES ref_typejour (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C48510D4DE FOREIGN KEY (depot_id) REFERENCES depot (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C4C85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C47A45358C FOREIGN KEY (groupe_id) REFERENCES groupe_tournee (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C4F3B301E FOREIGN KEY (typetournee_id) REFERENCES ref_typetournee (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C41B65292 FOREIGN KEY (employe_id) REFERENCES employe (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C49909C13F FOREIGN KEY (transport_id) REFERENCES ref_transport (id);
ALTER TABLE pai_tournee ADD CONSTRAINT FK_A1DCF8C4FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B178510D4DE FOREIGN KEY (depot_id) REFERENCES depot (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B17C85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B17220C6AD0 FOREIGN KEY (jour_id) REFERENCES ref_jour (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B179B0F88B1 FOREIGN KEY (activite_id) REFERENCES ref_activite (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B171B65292 FOREIGN KEY (employe_id) REFERENCES employe (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B179909C13F FOREIGN KEY (transport_id) REFERENCES ref_transport (id);
ALTER TABLE modele_activite ADD CONSTRAINT FK_D0AD6B17FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9F8510D4DE FOREIGN KEY (depot_id) REFERENCES depot (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9FC85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9F220C6AD0 FOREIGN KEY (jour_id) REFERENCES ref_jour (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9F1B65292 FOREIGN KEY (employe_id) REFERENCES employe (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9F9B0F88B1 FOREIGN KEY (activite_id) REFERENCES modele_activite (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9FF661D013 FOREIGN KEY (tournee_id) REFERENCES modele_tournee (id);
ALTER TABLE modele_journal ADD CONSTRAINT FK_C42A1D9FFEEEB52E FOREIGN KEY (tournee_jour_id) REFERENCES modele_tournee_jour (id);
ALTER TABLE prd_caract ADD CONSTRAINT FK_F10356EA3B707EA FOREIGN KEY (produit_type_id) REFERENCES produit_type (id);
ALTER TABLE prd_caract ADD CONSTRAINT FK_F10356EAE8F01950 FOREIGN KEY (caract_type_id) REFERENCES prd_caract_type (id);
ALTER TABLE prd_caract ADD CONSTRAINT FK_F10356EAA12433ED FOREIGN KEY (saisie_id) REFERENCES prd_ref_saisie (id);
ALTER TABLE prd_caract_constante ADD CONSTRAINT FK_478B78BEF347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE prd_caract_constante ADD CONSTRAINT FK_478B78BEB7DC3BDF FOREIGN KEY (prd_caract_id) REFERENCES prd_caract (id);
ALTER TABLE prd_caract_constante ADD CONSTRAINT FK_478B78BEFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE prd_caract_groupe ADD CONSTRAINT FK_F9F77203F347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE prd_caract_groupe ADD CONSTRAINT FK_F9F77203B7DC3BDF FOREIGN KEY (prd_caract_id) REFERENCES prd_caract (id);
ALTER TABLE prd_caract_groupe ADD CONSTRAINT FK_F9F772037A45358C FOREIGN KEY (groupe_id) REFERENCES groupe_tournee (id);
ALTER TABLE prd_caract_groupe ADD CONSTRAINT FK_F9F77203FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE prd_caract_jour ADD CONSTRAINT FK_4D1487BF347EFB FOREIGN KEY (produit_id) REFERENCES produit (id);
ALTER TABLE prd_caract_jour ADD CONSTRAINT FK_4D1487BB7DC3BDF FOREIGN KEY (prd_caract_id) REFERENCES prd_caract (id);
ALTER TABLE prd_caract_jour ADD CONSTRAINT FK_4D1487BFB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE prd_caract_tournee ADD CONSTRAINT FK_3E6B7264B7DC3BDF FOREIGN KEY (prd_caract_id) REFERENCES prd_caract (id);
ALTER TABLE prd_caract_tournee ADD CONSTRAINT FK_3E6B72648125DFC4 FOREIGN KEY (pai_prd_tournee_id) REFERENCES pai_prd_tournee (id);
ALTER TABLE prd_caract_tournee ADD CONSTRAINT FK_3E6B7264FB88E14F FOREIGN KEY (utilisateur_id) REFERENCES utilisateur (id);
ALTER TABLE ref_natureclient ADD CONSTRAINT FK_CBF30553225E399C FOREIGN KEY (typeurssaf_id) REFERENCES ref_typeurssaf (id);
ALTER TABLE ref_population ADD CONSTRAINT FK_B28C4F16EC013E12 FOREIGN KEY (emploi_id) REFERENCES ref_emploi (id);
ALTER TABLE ref_population ADD CONSTRAINT FK_B28C4F16FCF77503 FOREIGN KEY (societe_id) REFERENCES ref_emp_societe (id);
ALTER TABLE depot CHANGE code code VARCHAR(3) NOT NULL;
ALTER TABLE adresse_rnvp CHANGE stop_livraison_possible stop_livraison_possible ENUM('0', '1');
ALTER TABLE tournee_detail DROP FOREIGN KEY FK_1AD44EBDA5424056;
ALTER TABLE tournee_detail DROP FOREIGN KEY FK_1AD44EBDCD649842;
DROP INDEX IDX_1AD44EBDA5424056 ON tournee_detail;
DROP INDEX IDX_1AD44EBDCD649842 ON tournee_detail;
DROP INDEX IDX_1AD44EBDCF13DC48 ON tournee_detail;
ALTER TABLE tournee_detail ADD ref_jour_id INT DEFAULT NULL, ADD abonne_soc_id INT DEFAULT NULL, ADD adresse_rnvp_id INT DEFAULT NULL, ADD modele_tournee_jour_code VARCHAR(255) NOT NULL, DROP code_modele_tournee, DROP num_abonne, CHANGE ref_jour modele_tournee_jour_id INT DEFAULT NULL;
ALTER TABLE tournee_detail ADD CONSTRAINT FK_1AD44EBD101629AE FOREIGN KEY (modele_tournee_jour_id) REFERENCES modele_tournee_jour (id);
ALTER TABLE tournee_detail ADD CONSTRAINT FK_1AD44EBDE6183900 FOREIGN KEY (ref_jour_id) REFERENCES ref_jour (id);
ALTER TABLE tournee_detail ADD CONSTRAINT FK_1AD44EBDEB0A5778 FOREIGN KEY (abonne_soc_id) REFERENCES abonne_soc (id);
ALTER TABLE tournee_detail ADD CONSTRAINT FK_1AD44EBDFED66618 FOREIGN KEY (adresse_rnvp_id) REFERENCES adresse_rnvp (id);
CREATE INDEX IDX_1AD44EBD101629AE ON tournee_detail (modele_tournee_jour_id);
CREATE INDEX IDX_1AD44EBDE6183900 ON tournee_detail (ref_jour_id);
CREATE INDEX IDX_1AD44EBDEB0A5778 ON tournee_detail (abonne_soc_id);
CREATE INDEX IDX_1AD44EBDFED66618 ON tournee_detail (adresse_rnvp_id);
ALTER TABLE fic_recap ADD origine INT NOT NULL;
ALTER TABLE fic_source ADD client_type INT NOT NULL;
ALTER TABLE client_a_servir_logist ADD pai_tournee_id INT DEFAULT NULL, ADD flux_id INT NOT NULL;
ALTER TABLE client_a_servir_logist ADD CONSTRAINT FK_D7881D3FA3E70E47 FOREIGN KEY (pai_tournee_id) REFERENCES pai_tournee (id);
ALTER TABLE client_a_servir_logist ADD CONSTRAINT FK_D7881D3FC85926E FOREIGN KEY (flux_id) REFERENCES ref_flux (id);
CREATE INDEX IDX_D7881D3FA3E70E47 ON client_a_servir_logist (pai_tournee_id);
CREATE INDEX IDX_D7881D3FC85926E ON client_a_servir_logist (flux_id);
DROP INDEX IDX_58ABEB3192D16A45 ON client_a_servir_src;
ALTER TABLE client_a_servir_src ADD point_livraison_id INT DEFAULT NULL, ADD client_type INT NOT NULL, CHANGE adresse_ext_id adresse_id INT DEFAULT NULL;
ALTER TABLE client_a_servir_src ADD CONSTRAINT FK_58ABEB314DE7DC5C FOREIGN KEY (adresse_id) REFERENCES adresse (id);
ALTER TABLE client_a_servir_src ADD CONSTRAINT FK_58ABEB3178DB0241 FOREIGN KEY (point_livraison_id) REFERENCES adresse_rnvp (id);
CREATE INDEX IDX_58ABEB314DE7DC5C ON client_a_servir_src (adresse_id);
CREATE INDEX IDX_58ABEB3178DB0241 ON client_a_servir_src (point_livraison_id);
DROP INDEX IDX_A4E778D392D16A45 ON client_a_servir_src_tmp;
ALTER TABLE client_a_servir_src_tmp ADD adresse_id INT DEFAULT NULL, ADD point_livraison_id INT DEFAULT NULL, ADD client_type INT DEFAULT NULL, CHANGE adresse_ext_id abonne_unique_id INT DEFAULT NULL;
ALTER TABLE client_a_servir_src_tmp ADD CONSTRAINT FK_A4E778D312468144 FOREIGN KEY (abonne_unique_id) REFERENCES abonne_unique (id);
ALTER TABLE client_a_servir_src_tmp ADD CONSTRAINT FK_A4E778D34DE7DC5C FOREIGN KEY (adresse_id) REFERENCES adresse (id);
ALTER TABLE client_a_servir_src_tmp ADD CONSTRAINT FK_A4E778D378DB0241 FOREIGN KEY (point_livraison_id) REFERENCES adresse_rnvp (id);
CREATE INDEX IDX_A4E778D312468144 ON client_a_servir_src_tmp (abonne_unique_id);
CREATE INDEX IDX_A4E778D34DE7DC5C ON client_a_servir_src_tmp (adresse_id);
CREATE INDEX IDX_A4E778D378DB0241 ON client_a_servir_src_tmp (point_livraison_id);
DROP INDEX IDX_5ABDA1B92D16A45 ON client_a_servir_src_tmp2;
ALTER TABLE client_a_servir_src_tmp2 ADD adresse_id INT DEFAULT NULL, ADD point_livraison_id INT DEFAULT NULL, ADD info_traitee INT DEFAULT NULL, CHANGE adresse_ext_id abonne_unique_id INT DEFAULT NULL;
ALTER TABLE client_a_servir_src_tmp2 ADD CONSTRAINT FK_5ABDA1B12468144 FOREIGN KEY (abonne_unique_id) REFERENCES abonne_unique (id);
ALTER TABLE client_a_servir_src_tmp2 ADD CONSTRAINT FK_5ABDA1B4DE7DC5C FOREIGN KEY (adresse_id) REFERENCES adresse (id);
ALTER TABLE client_a_servir_src_tmp2 ADD CONSTRAINT FK_5ABDA1B78DB0241 FOREIGN KEY (point_livraison_id) REFERENCES adresse_rnvp (id);
CREATE INDEX IDX_5ABDA1B12468144 ON client_a_servir_src_tmp2 (abonne_unique_id);
CREATE INDEX IDX_5ABDA1B4DE7DC5C ON client_a_servir_src_tmp2 (adresse_id);
CREATE INDEX IDX_5ABDA1B78DB0241 ON client_a_servir_src_tmp2 (point_livraison_id);
ALTER TABLE jour_ferie ADD libelle VARCHAR(255) NOT NULL, CHANGE actif actif TINYINT(1) DEFAULT NULL;
ALTER TABLE fichier ADD date_modif DATETIME NOT NULL;
ALTER TABLE groupe_tournee ADD libelle VARCHAR(32) NOT NULL;
CREATE UNIQUE INDEX UNIQ_EE7B87ACE07FDBA1 ON modele_tournee (codeDCS);
ALTER TABLE produit ADD passe INT NOT NULL;
