{% import 'AmsEmployeBundle:DhtmlxGrid:macros.html.twig' as m %}
<rows>
    <head>      
        <column id="actif"              type="ro"           hidden="true">Actif</column> 
        <column id="matricule"          type="ro"           width="100"     align="center"  sort="str">Matricule</column> 
        <column id="nom"                type="ro"           width="*"       align="left"    sort="str">Employé</column> 
        <column id="date_debut"         type="dhxCalendar"  width="70"      align="center"  sort="date">Début</column> 
        <column id="date_fin"           type="dhxCalendar"  width="70"      align="center"  sort="date">Fin</column> 
        <column id="date_stc"           type="dhxCalendar"  width="70"      align="center"  sort="date">STC</column> 
        <column id="societe_id"         type="coro"         width="100"     align="left"    sort="sortCombo">Societe{{comboSociete|raw}}</column>
        <column id="depot_id"           type="coro"         width="*"       align="left"    sort="sortCombo">Centre de distribution{{comboDepot|raw}}</column>
        <column id="rc"                 type="ro"           width="50"      align="center"  sort="str">Rc</column>
        <column id="emploi_id"          type="coro"         width="100"     align="left"    sort="sortCombo">Emploi{{comboEmploi|raw}}</column>
        <column id="typecontrat_id"     type="coro"         width="100"     align="left"    sort="sortCombo">Type Contrat{{comboTypeContrat|raw}}</column>
        <column id="cycle"              type="ro"           width="50"      align="center"  sort="str">Cycle</column>
        <column id="heure_debut"        type="ro"           width="70"      align="right"   sort="str">Heure de début</column>
        <column id="nbheures_garanties" type="ro"           width="70"      align="right"   sort="int">Heures garanties</column> 
        <column id="nbheures_reelles"   type="ro"           width="70"      align="right"   sort="int">Heures réelles</column> 
        <column id="taux"               type="ro"           width="70"      align="right"   sort="int">Taux Qualité</column> 
        <column id="motif_fin"          type="ro"           width="*"       align="left"    sort="str">Motif fin</column>
    </head> 
    {% for row in curseur %}
        <row id ="{{row.id}}"{{m.locked(false)}}  {{m.bgColorBloque(row.actif)}}>  
            <cell>{{row.actif}}</cell>
            <cell>{{row.matricule}}</cell> 
            <cell>{{row.nom}}</cell>
            <cell>{{row.date_debut|date('d/m/Y')}}</cell>
            <cell>{{row.date_fin|date('d/m/Y')}}</cell>
            <cell>{% if row.date_stc is not null%}{{row.date_stc|date('d/m/Y')}}{% endif %}</cell>
            <cell>{{row.societe_id}}</cell>
            <cell>{{row.depot_id}}</cell>
            <cell>{{row.rc}}</cell>
            <cell>{{row.emploi_id}}</cell>
            <cell>{{row.typecontrat_id}}</cell>
            <cell>{{row.cycle}}</cell>
            <cell>{% if row.typetournee_id==2%}{{row.heure_debut}}{% endif %}</cell>
            <cell>{% if row.nbheures_garanties!=0%}{{row.nbheures_garanties}}{% endif %}</cell>
            <cell>{{row.nbheures_reelles}}</cell>
            <cell>{{row.taux}}</cell>
            <cell>{{row.motif_fin}}</cell>
       </row> 
     {% endfor %}
 </rows>
